<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="825px" preserveAspectRatio="none" style="width:973px;height:825px;" version="1.1" viewBox="0 0 973 825" width="973.9583px" zoomAndPan="magnify"><defs><linearGradient id="g9erb80r7n0qx0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#F18E3E"/><stop offset="100%" stop-color="#EC7211"/></linearGradient></defs><g><ellipse cx="203.6458" cy="20.8333" fill="#0073BB" rx="10.4167" ry="10.4167" style="stroke:#222222;stroke-width:1.0416666666666667;"/><rect fill="url(#g9erb80r7n0qx0)" height="45.8008" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="167.7083" x="119.7917" y="52.0833"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="136.4583" x="135.4167" y="79.3111">Start Query Execution</text><rect fill="none" height="118.6523" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.5625;" width="839.5833" x="53.125" y="108.3008"/><path d="M163.5417,108.3008 L163.5417,125.9766 L153.125,136.3932 L53.125,136.3932 " fill="none" style="stroke:#EC7211;stroke-width:1.5625;"/><text fill="#EC7211" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="89.5833" x="61.4583" y="126.1536">Join Operation</text><path d="M364.5833,166.5853 L364.5833,180.1107 L343.75,184.2773 L364.5833,188.444 L364.5833,201.9694 A0,0 0 0 0 364.5833,201.9694 L882.2917,201.9694 A0,0 0 0 0 882.2917,201.9694 L882.2917,177.002 L871.875,166.5853 L364.5833,166.5853 A0,0 0 0 0 364.5833,166.5853 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><path d="M871.875,166.5853 L871.875,177.002 L882.2917,177.002 L871.875,166.5853 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="485.4167" x="376.0417" y="188.6047">Combining employee records with department information to enrich the data.</text><rect fill="url(#g9erb80r7n0qx0)" height="60.3516" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="280.2083" x="63.5417" y="154.1016"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="248.9583" x="79.1667" y="181.3293">Join 'employees' e with 'departments' d</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="166.6667" x="79.1667" y="195.8801">ON e.department_id = d.id</text><rect fill="none" height="170.7357" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.5625;" width="589.5833" x="126.5625" y="237.3698"/><path d="M224.4792,237.3698 L224.4792,255.0456 L214.0625,265.4622 L126.5625,265.4622 " fill="none" style="stroke:#EC7211;stroke-width:1.5625;"/><text fill="#EC7211" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="77.0833" x="134.8958" y="255.2226">Aggregation</text><rect fill="url(#g9erb80r7n0qx0)" height="45.8008" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="116.6667" x="145.3125" y="283.1706"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="85.4167" x="160.9375" y="310.3984">Group by d.id</text><path d="M291.1458,355.013 L291.1458,368.5384 L270.3125,372.7051 L291.1458,376.8717 L291.1458,390.3971 A0,0 0 0 0 291.1458,390.3971 L705.7292,390.3971 A0,0 0 0 0 705.7292,390.3971 L705.7292,365.4297 L695.3125,355.013 L291.1458,355.013 A0,0 0 0 0 291.1458,355.013 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><path d="M695.3125,355.013 L695.3125,365.4297 L705.7292,365.4297 L695.3125,355.013 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="382.2917" x="302.6042" y="377.0325">Aggregating records by department and counting total hires.</text><rect fill="url(#g9erb80r7n0qx0)" height="45.8008" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="133.3333" x="136.9792" y="349.8047"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="102.0833" x="152.6042" y="377.0325">Count total hires</text><rect fill="none" height="170.7357" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.5625;" width="951.0417" x="11.4583" y="418.5221"/><path d="M168.75,418.5221 L168.75,436.1979 L158.3333,446.6146 L11.4583,446.6146 " fill="none" style="stroke:#EC7211;stroke-width:1.5625;"/><text fill="#EC7211" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="136.4583" x="19.7917" y="436.3749">Subquery for Filtering</text><path d="M406.25,469.5313 L406.25,483.0566 L385.4167,487.2233 L406.25,491.39 L406.25,504.9154 A0,0 0 0 0 406.25,504.9154 L952.0833,504.9154 A0,0 0 0 0 952.0833,504.9154 L952.0833,479.9479 L941.6667,469.5313 L406.25,469.5313 A0,0 0 0 0 406.25,469.5313 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><path d="M941.6667,469.5313 L941.6667,479.9479 L952.0833,479.9479 L941.6667,469.5313 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="513.5417" x="417.7083" y="491.5507">Calculating the average number of hires per department in 2021 for later filtering.</text><rect fill="url(#g9erb80r7n0qx0)" height="45.8008" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="363.5417" x="21.875" y="464.3229"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="332.2917" x="37.5" y="491.5507">Execute subquery to calculate average hires in 2021</text><path d="M358.3333,536.1654 L358.3333,549.6908 L337.5,553.8574 L358.3333,558.0241 L358.3333,571.5495 A0,0 0 0 0 358.3333,571.5495 L861.4583,571.5495 A0,0 0 0 0 861.4583,571.5495 L861.4583,546.582 L851.0417,536.1654 L358.3333,536.1654 A0,0 0 0 0 358.3333,536.1654 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><path d="M851.0417,536.1654 L851.0417,546.582 L861.4583,546.582 L851.0417,536.1654 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="470.8333" x="369.7917" y="558.1848">Filtering departments that have hires\ngreater than the average calculated.</text><rect fill="url(#g9erb80r7n0qx0)" height="45.8008" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="267.7083" x="69.7917" y="530.957"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="236.4583" x="85.4167" y="558.1848">Having COUNT(*) &gt; AVG(hired_count)</text><rect fill="none" height="104.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.5625;" width="745.8333" x="85.4167" y="599.6745"/><path d="M151.0417,599.6745 L151.0417,617.3503 L140.625,627.7669 L85.4167,627.7669 " fill="none" style="stroke:#EC7211;stroke-width:1.5625;"/><text fill="#EC7211" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="44.7917" x="93.75" y="617.5273">Sorting</text><path d="M332.2917,650.6836 L332.2917,664.209 L311.4583,668.3757 L332.2917,672.5423 L332.2917,686.0677 A0,0 0 0 0 332.2917,686.0677 L820.8333,686.0677 A0,0 0 0 0 820.8333,686.0677 L820.8333,661.1003 L810.4167,650.6836 L332.2917,650.6836 A0,0 0 0 0 332.2917,650.6836 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><path d="M810.4167,650.6836 L810.4167,661.1003 L820.8333,661.1003 L810.4167,650.6836 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="456.25" x="343.75" y="672.703">Sorting departments based on the number of hires in descending order.</text><rect fill="url(#g9erb80r7n0qx0)" height="45.8008" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="215.625" x="95.8333" y="645.4753"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="184.375" x="111.4583" y="672.703">Order results by 'hired' DESC</text><path d="M363.0208,729.8177 L363.0208,743.3431 L342.1875,747.5098 L363.0208,751.6764 L363.0208,765.2018 A0,0 0 0 0 363.0208,765.2018 L607.8125,765.2018 A0,0 0 0 0 607.8125,765.2018 L607.8125,740.2344 L597.3958,729.8177 L363.0208,729.8177 A0,0 0 0 0 363.0208,729.8177 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><path d="M597.3958,729.8177 L597.3958,740.2344 L607.8125,740.2344 L597.3958,729.8177 " fill="#0073BB" style="stroke:#005C96;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="212.5" x="374.4792" y="751.8372">Selecting final columns for output.</text><rect fill="url(#g9erb80r7n0qx0)" height="45.8008" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="277.0833" x="65.1042" y="724.6094"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="245.8333" x="80.7292" y="751.8372">Select d.id, department, and total hires</text><ellipse cx="203.6458" cy="802.7018" fill="none" rx="11.4583" ry="11.4583" style="stroke:#222222;stroke-width:1.0416666666666667;"/><ellipse cx="203.6458" cy="802.7018" fill="#222222" rx="6.25" ry="6.25" style="stroke:#222222;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="203.6458" x2="203.6458" y1="31.25" y2="52.0833"/><polygon fill="#EC7211" points="199.4792,41.6667,203.6458,52.0833,207.8125,41.6667,203.6458,45.8333" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="203.6458" x2="203.6458" y1="97.8841" y2="154.1016"/><polygon fill="#EC7211" points="199.4792,143.6849,203.6458,154.1016,207.8125,143.6849,203.6458,147.8516" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="203.6458" x2="203.6458" y1="328.9714" y2="349.8047"/><polygon fill="#EC7211" points="199.4792,339.388,203.6458,349.8047,207.8125,339.388,203.6458,343.5547" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="203.6458" x2="203.6458" y1="214.4531" y2="283.1706"/><polygon fill="#EC7211" points="199.4792,272.7539,203.6458,283.1706,207.8125,272.7539,203.6458,276.9206" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="203.6458" x2="203.6458" y1="510.1237" y2="530.957"/><polygon fill="#EC7211" points="199.4792,520.5404,203.6458,530.957,207.8125,520.5404,203.6458,524.707" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="203.6458" x2="203.6458" y1="395.6055" y2="464.3229"/><polygon fill="#EC7211" points="199.4792,453.9063,203.6458,464.3229,207.8125,453.9063,203.6458,458.0729" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="203.6458" x2="203.6458" y1="576.7578" y2="645.4753"/><polygon fill="#EC7211" points="199.4792,635.0586,203.6458,645.4753,207.8125,635.0586,203.6458,639.2253" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="203.6458" x2="203.6458" y1="691.276" y2="724.6094"/><polygon fill="#EC7211" points="199.4792,714.1927,203.6458,724.6094,207.8125,714.1927,203.6458,718.3594" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="203.6458" x2="203.6458" y1="770.4102" y2="791.2435"/><polygon fill="#EC7211" points="199.4792,780.8268,203.6458,791.2435,207.8125,780.8268,203.6458,784.9935" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><!--SRC=[VPH1Jzj048Nl_XLJBeQAHYt7891GeA0UYAeKJaXexPtOAzaxPdSM6bNzxvrT9uvD5N99FDbvxvitAt_Y6bi4zUQ_a5EsmiopSfpDL_4BVWPq6xZvZMLWG_Oyopefc_WRZdwGiR3iqAduV0H_Cf3FF9LpRBk6DeW-1uGtmpNa6cDpYvQbg9_iyXvmjYy-6mqNe6T6doSXIupWJ5LpUWHOK5iOQsm5Et5mM9BJlZVOIu6nQt9juW8cGEjCMOFC2bgncYL1j3fvP7ydKrrLbSDgEjAjez11iHdHpHSKn8Y9LGErSUWFK0zwmht3ZKfxM2KWPLIBHqQ27sAkGl6IbYE3mdVJC3ff7uZxbI7utJ59eLHD6HebLVKgIwkmjv6muEphsRT3gM-x4bozxxMXBT01hRSgSW-c6qYY2IzwEbZl8D_DbNZlr6iqM2mVxdyTVpw1IxXwl3sEolevPNDo06yOVMJk1LGnr8BQmprPsK62a3_iP8mX5FrntEHudE_IQL4JwT1mscUUM7Eulbaj3g1kDIQWXVAeWNgczv5AXXfzAKYnZQBb_v3p5JPOShgQfoFjqtIl9lTpGjItHU6riNAcf2QqrgU5KU0ky2mRVEIjGDq_]--></g></svg>